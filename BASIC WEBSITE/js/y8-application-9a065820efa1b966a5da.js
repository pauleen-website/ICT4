(self.webpackChunkapp=self.webpackChunkapp||[]).push([[107],{669:function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js")},3058:function(){$((function(){$(".dropdown:not(.dropdown-lazy) .dropdown__link").on("click",(function(e,t){e.preventDefault();var n=$(this).closest(".dropdown");n.hasClass("show")?n.trigger("dropdown.close"):$(".dropdown.show").find(".dropdown__link").trigger("click",{closeForce:!0}),n.toggleClass("show").find(".dropdown__link").toggleClass("active"),t&&t.closeForce?n.find(".dropdown__menu").hide():n.hasClass("show")?n.find(".dropdown__menu").fadeIn(50):n.find(".dropdown__menu").fadeOut(150)})),$(document).click((function(e){var t=$(".dropdown.show");t===e.target||t.has(e.target).length||(t.removeClass("show").find(".dropdown__menu").fadeOut(150),t.find(".dropdown__link").removeClass("active"),t.trigger("dropdown.close"))})),$(".overlay-mask").click((function(e){e.preventDefault();var t=$(".dropdown");t.hasClass("show")&&(t.removeClass("show").find(".dropdown").fadeOut("150"),t.trigger("dropdown.close"))}))}))},1816:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function r(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var i=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$item=$(t),this.labels=n},(t=[{key:"isFilterable",value:function(){var e=this.$item.data("filter");return!!this.filters.includes(e)}},{key:"isCompatible",value:function(){return 0==$(this.itemLabels()).filter(this.labels).length}},{key:"hide",value:function(){this.$item.hide().data("filter",this.filter).attr("data-filter",this.filter)}},{key:"show",value:function(){this.$item.show().removeData("filter").removeAttr("data-filter")}},{key:"itemLabels",value:function(){var e=this.$item.data("label-ids");return void 0==e||""==e?[]:e.split(",")}}])&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();t.A=i},8782:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function r(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var i=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.filters=[],this.triggers=[]},t=[{key:"add",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.filters.push(e),(n||[]).forEach((function(e){t.triggers.includes(e)||t.triggers.push(e)})),this}},{key:"enable",value:function(){var e=this;$((function(){e.run()})),$(document).on(this.triggers.join(" "),(function(){e.run()}))}},{key:"run",value:function(){this.shouldRun()&&($(".item").show(),this.filters.forEach((function(e){e.perform()})),$(document).trigger("filterChainFinished"))}},{key:"shouldRun",value:function(){var e=window.document.location.pathname.startsWith("/users");return $(".item").length>0&&!e}}],t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();t.A=i},4092:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function o(e,t,n){return t=s(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=o(this,t,[e,n])).filter="girls-games",r.filters=["girls-games",void 0],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),n=t,a=[{key:"perform",value:function(){var e=t.labels();$(".item").each((function(n,r){var i=new t(r,e);i.isFilterable()&&(i.isCompatible()?i.show():i.hide())}))}},{key:"labels",value:function(){var e=$("body").data("girls-labels");return void 0===e||""==e?[]:e.split(",")}}],(i=null)&&r(n.prototype,i),a&&r(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(n(1816).A);t.A=l},189:function(e,t,n){"use strict";n(5764);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function o(e,t,n){return t=l(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,n||[],l(e).constructor):t.apply(e,n))}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(e,t,n,r){var i=u(l(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},u.apply(null,arguments)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}!function(e,t,n){var i="Girl,Girls";function a(){t(document).trigger("girlsGamesFilterUpdated")}var u=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=o(this,n,[{container:e,cookie:"girls_games_filter"}])).isOn()?n.setLabels(""):n.setLabels(i),a.call(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(n,e),u=n,f=[{key:"setLabels",value:function(e){t("body").attr("data-girls-labels",e).data("girls-labels",e)}}],(l=[{key:"on",value:function(){s(n,"on",this,3)([]),n.setLabels("")}},{key:"off",value:function(){s(n,"off",this,3)([]),n.setLabels(i)}},{key:"switch",value:function(){s(n,"switch",this,3)([]),a.call()}}])&&r(u.prototype,l),f&&r(u,f),Object.defineProperty(u,"prototype",{writable:!1}),u;var u,l,f}(n);e.GirlsGamesSwitcher=u}(window,jQuery,ToggleSwitch),$((function(){$(".toggle-switch.girls-games-filter").each((function(){var e=new GirlsGamesSwitcher(this);$(this).on("click",(function(t){t.preventDefault(),e.switch()}))}))}))},8398:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function r(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindButtons()}return t=e,r=[{key:"loadCounters",value:function(){$(document).on("library-counters-ready",(function(t,n){n&&(e.updateCounterHtml(n.visited_items,"#visited-items-count"),e.updateCounterHtml(n.liked_items,"#liked-items-count"),e.updateCounterHtml(n.recommended_items,"#recommended-items-count"))}))}},{key:"showSidebarLinks",value:function(){(new UserInfo).isLoggedIn()&&($("#visited_items_link").show(),$("#liked_items_link").show())}},{key:"bindButtons",value:function(){$(".items-list").on("click",".delete-watched-video",(function(t){t.preventDefault(),e.remoteRequest("/profile/delete_visit",$(this).data("item-id"))})),$(document).on("click",".delete-upvote",(function(){e.remoteRequest("/profile/delete_upvote",$(this).data("item-id"))}))}}],i=[{key:"updateCounterHtml",value:function(e,t){var n="undefined"!=typeof e?e:0,r=$(".animations-active").length?"videos":"games",i=I18n.t("views.shared._header.sections."+r);$(t).html(n+" "+i)}},{key:"remoteRequest",value:function(e,t){$.ajax({url:e,data:{item_id:t},type:"POST",success:function(){$("#item_"+t).remove()},error:function(e){console.log(e)}})}}],r&&n(t.prototype,r),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,i}();t.A=i},6890:function(){function e(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}function t(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var n=function(){return t=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.cron=t.data("".concat(window.appInfo.currentKind,"-release-cron"))},(n=[{key:"start",value:function(){var e=this;null!=this.cron.hours&&0!=this.cron.hours.length&&setInterval((function(){return e.$element.html(e.countdown())}),1e3)}},{key:"countdown",value:function(){for(var e=0,t=0;e<this.now&&t<this.cron.hours.length;t++)e=(new Date).setUTCHours(this.cron.hours[t],this.cron.minute,0,0)/1e3;var n=this.nextReleaseInDHMS(e),r=n.days>0?"".concat(n.days," D "):"",i=[n.hours,n.minutes,n.seconds].map((function(e){return"0".concat(e).slice(-2)}));return"".concat(r).concat(i.join(":"))}},{key:"now",get:function(){return Math.floor((new Date).getTime()/1e3)}},{key:"nextReleaseInDHMS",value:function(e){var t=e-this.now,n=Math.floor(t/86400);t-=86400*n;var r=Math.floor(t/3600)%24;t-=3600*r;var i=Math.floor(t/60)%60;return{days:n,hours:r,minutes:i,seconds:(t-=60*i)%60}}}])&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();$((function(){var e=$(".release-countdown");e.length&&new n(e).start()}))},5764:function(){function e(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}function t(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}!function(t,n){"use strict";var r=function(){return t=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cookie=t.cookie,this.$container=n(t.container),this.$container.addClass(this.state()),this.setCookie(this.state())},(r=[{key:"switch",value:function(){this.isOff()?this.on():this.off()}},{key:"on",value:function(){this.$container.removeClass("off"),this.$container.addClass("on"),this.setCookie("on")}},{key:"off",value:function(){this.$container.removeClass("on"),this.$container.addClass("off"),this.setCookie("off")}},{key:"setCookie",value:function(e){Cookies.set(this.cookie,e)}},{key:"state",value:function(){return Cookies.get(this.cookie)||"on"}},{key:"isOff",value:function(){return"off"==this.state()}},{key:"isOn",value:function(){return"on"==this.state()}}])&&e(t.prototype,r),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,i}();t.ToggleSwitch=r}(window,jQuery)},299:function(e,t,n){"use strict";n(316),n(4936),n(669),n(7656),n(189),n(5460),n(6890);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var o=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint="/tracking/search_query",this.cookieName="_y8_srch",this.cookieExpiration=1,this.cookieDomain=".".concat(window.location.hostname.split(".").slice(-2).join(".")),this.cookieOptions={path:"/",domain:this.cookieDomain,expires:this.cookieExpiration},this.limitQueryLength=50},(t=[{key:"track",value:function(){var e=this;this.syncCache(),$(document).on("submit",".js-items-search-form",(function(t){return e.handleFormSubmit(t)}))}},{key:"handleFormSubmit",value:function(e){var t=$(e.currentTarget).find("#q").val(),n=$(e.currentTarget).find("#kind").val(),r="".concat(this.sanitize(t),":").concat(n);return Cookies.set(this.cookieName,r,this.cookieOptions),!0}},{key:"syncCache",value:function(){var e=this,t=Cookies.get(this.cookieName);if(t){t=t.split(":");var n=this.sanitize(t[0]),r=t[1];$.ajax({url:this.endpoint,type:"POST",data:{q:n,kind:r}}).done((function(){return e.cleanCache()}))}}},{key:"cleanCache",value:function(){Cookies.remove(this.cookieName,this.cookieOptions)}},{key:"sanitize",value:function(e){return e&&0!==e.length?e.toLowerCase().replace(/\s+/g," ").substring(0,this.limitQueryLength).trim():e}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();$((function(){"requestIdleCallback"in window?requestIdleCallback((function(){return(new o).track()})):setTimeout((function(){return(new o).track()}),1)}));n(5114),n(9139),n(3662),n(97),n(4720),n(8481),n(6697),n(3058),n(9599);var a="rtl"===$("html").attr("dir");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}$(".slick-slider").slick({slidesToShow:3,slidesToScroll:1,mobileFirst:!0,centerMode:!1,rows:0,arrows:!0,variableWidth:!0,focusOnSelect:!1,focusOnChange:!1,dots:!1,infinite:!1,initialSlide:0,rtl:a,responsive:[{breakpoint:1366,settings:{slidesToShow:4}},{breakpoint:1680,settings:{slidesToShow:6}},{breakpoint:1920,settings:{slidesToShow:7}}]});var l=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$navbar=$(".navbar"),this.$burgerMenu=$(".mobile-burger-menu"),this.$userMenu=$(".links-container.sub-menu"),this.$searchInput=$(".navbar .navbar-form .form-control"),this.$searchBtn=$(".mobile-search-user-container .search-btn"),this.$closeSearchBtn=$(".navbar-form .close-search-form"),this.$profileBtn=$(".mobile-search-user-container .profile-btn"),this.$darkOverlay=$(".dark-overlay")},t=[{key:"init",value:function(){$(document).scroll(this.scrollHandler.bind(this)),this.$burgerMenu.click(this.burgerHandler.bind(this)),this.$searchBtn.click(this.searchHandler.bind(this)),this.$closeSearchBtn.click(this.closeSearchHandler.bind(this)),this.$profileBtn.click(this.profileHandler.bind(this)),this.$darkOverlay.click(this.closeSearchHandler.bind(this)),$(document).mouseup((function(e){var t=$(".links-container.sub-menu"),n=$(".mobile-search-user-container .profile-btn");!t.is(":visible")||t.is(e.target)||0!==t.has(e.target).length||n.is(e.target)||0!==n.has(e.target).length||t.fadeOut(200)}))}},{key:"scrollHandler",value:function(){this.$burgerMenu.hasClass("open")&&$(document).scrollTop()>0?this.$navbar.addClass("fixed-navbar"):this.$navbar.removeClass("fixed-navbar")}},{key:"burgerHandler",value:function(){!this.$burgerMenu.hasClass("open")&&this.$navbar.hasClass("show-login-btns")&&this.$navbar.removeClass("show-login-btns"),this.$userMenu.hide(),this.$darkOverlay.removeClass("show"),this.$navbar.removeClass("fixed-navbar show-search-form hide-search-icon"),this.$burgerMenu.toggleClass("open"),this.$navbar.toggleClass("hide-user-icon show-login-btns show-mobile-header-block")}},{key:"searchHandler",value:function(){this.$userMenu.hide(),this.$burgerMenu.removeClass("open"),this.$navbar.removeClass("show-login-btns hide-user-icon show-mobile-header-block"),this.$navbar.toggleClass("show-search-form hide-search-icon"),this.$searchInput.focus(),this.$darkOverlay.addClass("show")}},{key:"closeSearchHandler",value:function(){this.$navbar.removeClass("show-search-form hide-search-icon"),this.$darkOverlay.removeClass("show")}},{key:"profileHandler",value:function(){this.$navbar.hasClass("logged")?(this.closeSearchHandler(),this.$userMenu.fadeToggle(200)):(this.$darkOverlay.removeClass("show"),this.$burgerMenu.removeClass("open"),this.$navbar.removeClass("show-search-form hide-search-icon hide-user-icon"),this.$navbar.toggleClass("show-login-btns"))}}],t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var h=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$header=$(".header"),this.$burgerMenu=$(".sidebar"),this.$searchInput=$(".header .navbar-form .form-control"),this.$searchBtn=$(".header__content .header__search-btn"),this.$closeSearchBtn=$(".header .navbar-form .close-search-form"),this.$darkOverlay=$(".dark-overlay"),this.$sidebarLink=$(".sidebar-link"),this.$sidebarSvg=$(".sidebar-link svg"),this.$sidebarItemLink=$('.sidebar__list a, .sidebar__list input[type="submit"]'),this.$sidebarForm=$(".sidebar__list form"),this.$langModal=$(".custom-modal"),this.$langChooserLink=$(".sidebar-item__link.sidebar-item__link--chooser"),this.$langModalClose=$(".custom-modal__close")},t=[{key:"init",value:function(){var e=this;this.$sidebarLink.click(this.toggleSidebarHandler.bind(this)),this.$searchBtn.click(this.searchHandler.bind(this)),this.$closeSearchBtn.click(this.closeSearchHandler.bind(this)),this.$darkOverlay.click(this.closeSidebarHandler.bind(this)),this.$sidebarItemLink.click(this.setActiveLink.bind(this)),this.$sidebarForm.submit(this.setActiveLink.bind(this)),this.$langChooserLink.click(this.openLangModal.bind(this)),this.$langModalClose.click(this.closeLangModal.bind(this)),this.setActiveLinkOnPageLoad(),$(".dropdown__link").click((function(t){e.$header.removeClass("show-search-form")})),$(document).click((function(t){e.$burgerMenu.hasClass("open")&&!e.$burgerMenu.is(t.target)&&0===e.$burgerMenu.has(t.target).length&&e.closeSidebarHandler()})),this.$darkOverlay.add(this.$langModal).on("click",(function(t){e.$langModal.hasClass("open")&&!$(t.target).closest(".custom-modal__container").length&&e.closeLangModal(t)})),this.$darkOverlay.on("scroll touchmove mousewheel",(function(e){return e.preventDefault(),e.stopPropagation(),!1})),window.matchMedia("(max-width: 812px) and (orientation: landscape)").matches||this.$langModal.on("scroll touchmove mousewheel",(function(e){e.preventDefault(),e.stopPropagation()}))}},{key:"toggleSidebarHandler",value:function(e){e.preventDefault(),e.stopPropagation();var t=$(".dropdown.show");t===event.target||t.has(event.target).length||(t.removeClass("show").find(".dropdown__menu").fadeOut(150),t.find(".dropdown__link").removeClass("active"),t.trigger("dropdown.close")),this.$header.removeClass("show-search-form"),this.$burgerMenu.hasClass("open")?this.closeSidebarHandler():(this.$burgerMenu.addClass("open"),this.$sidebarSvg.addClass("active"),this.showOverlay())}},{key:"openLangModal",value:function(e){var t=this;e.preventDefault(),this.closeSidebarHandler(!1),this.$langModal.addClass("open"),setTimeout((function(){t.$langModal.addClass("animation-open")}),0)}},{key:"closeLangModal",value:function(e){var t=this;e.preventDefault(),this.$langModal.addClass("animation-close"),this.hideOverlay(),setTimeout((function(){t.$langModal.removeClass("animation-close animation-open open")}),400)}},{key:"searchHandler",value:function(){this.closeSidebarHandler(),this.$header.toggleClass("show-search-form"),this.$searchInput.focus()}},{key:"closeSearchHandler",value:function(){this.closeSidebarHandler(),this.$header.removeClass("show-search-form")}},{key:"closeSidebarHandler",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$burgerMenu.hasClass("open")&&(this.$burgerMenu.addClass("animation-close"),t&&this.hideOverlay(),this.$sidebarSvg.removeClass("active"),setTimeout((function(){e.$burgerMenu.removeClass("open animation-close")}),400))}},{key:"showOverlay",value:function(){this.$darkOverlay.removeClass("hide").addClass("show")}},{key:"hideOverlay",value:function(){var e=this;this.$darkOverlay.removeClass("show").addClass("hide"),setTimeout((function(){e.$darkOverlay.removeClass("hide")}),400)}},{key:"setActiveLink",value:function(e){e.preventDefault();var t,n=$(e.currentTarget).closest(".sidebar-item");n.hasClass("sidebar-item--chooser")||($(".sidebar-item").removeClass("active"),t="INPUT"===e.currentTarget.tagName?$(e.currentTarget).parent("form").attr("action"):$(e.currentTarget).attr("href"),n.hasClass("sidebar-item--chooser")||n.addClass("active"),localStorage.setItem("activeSidebarLink",t),window.location.href=t)}},{key:"setActiveLinkOnPageLoad",value:function(){var e=window.location.href;this.$sidebarItemLink.each((function(t,n){var r="INPUT"===n.tagName?$(n).parent("form").attr("action"):$(n).attr("href");e.includes(r)&&$(n).closest(".sidebar-item").addClass("active")}))}}],t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),d=h;function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var m=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$box=$(".notification-manager"),this.$hideButton=$(".notification-manager .actions .hide-notification"),this.$browseBubble=$(".y8-navbar-right .browse .with-notification"),this.cookieValue="notification_forum"},(t=[{key:"process",value:function(){this.isHidden()||this.show()}},{key:"show",value:function(){var e=this;this.$box.show(),this.$hideButton.click((function(t){t.preventDefault(),e.hide()}))}},{key:"hide",value:function(){this.$box.hide(),this.$browseBubble.hide(),Cookies.set(this.cookieValue,!0,this.cookieOptions())}},{key:"isHidden",value:function(){return"true"==Cookies.get(this.cookieValue)}},{key:"cookieOptions",value:function(){return window.appInfo.commonCookieOptions}}])&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),b=n(8398),y=new function(){return{init:function(){$(document).ready((function(){$.each(["notice","alert"],(function(e,t){var n="flash-"+t,r=Cookies.get(n);r&&($("#flash-"+t).html(r.replace(/\+/g," ")),Cookies.remove(n,{path:"/"}),$(".flash-"+t).show())})),$(".flash-messages-box").delay(500).slideDown(),$(".flash-messages-box .close").delay(700).show(),"block"==$(".flash-notice").css("display")&&$(".flash-messages-box").delay(4e3).slideUp(),$(".flash-messages-box .close").click((function(e){e.preventDefault,$(".flash-messages-box").slideUp()}))}))}}};function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function w(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var k=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=$("#user_logged_in .links-container")},t=[{key:"init",value:function(){$(document).on("user-info-ready",(function(e,t){if(t&&null!=t){var n=80!=location.port?":"+location.port:"",r=location.protocol+"//"+location.hostname+n+"/users/"+t.user_pid+"/"+t.username;$("#account-menu-link-profile").attr("href",r),$("#account-menu-link-edit-profile").attr("href",t.edit_profile_url),$("#account-menu-link-games").attr("href",r),$("#account-menu-link-loved").attr("href",r),$("#account-menu-link-achievements").attr("href",r),$(".logout").click((function(){window.location.href="/logout"})),$("#account-menu-link-visited").click((function(e){window.location.href=$(e.currentTarget).attr("destination")})),"1"===Cookies.get("_resh")?($("#account-menu-link-my-revenue").click((function(e){window.location.href=$(e.currentTarget).attr("destination")})),$("#account-menu-link-my-revenue").show()):$("#account-menu-link-my-revenue").parent().remove()}})),$(document).on("favorites-count",(function(e,t){$(".js-favorites-count").text(t)})),$(document).on("hearts-count",(function(e,t){$(".js-profile-hearts-count").text(t)})),$(document).on("topMenu.forceClose",this.close.bind(this))}},{key:"open",value:function(){this.$element.fadeToggle(200)}},{key:"close",value:function(){this.$element.is(":visible")&&this.$element.fadeOut(200)}}],t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function O(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var j=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=$(".y8-navbar-right .browse-menu"),this.ready=!1},(t=[{key:"init",value:function(){$(window).resize(this.close),$(document).on("topMenu.forceClose",this.close.bind(this))}},{key:"open",value:function(){var e=this;this.ready?this.$element.fadeToggle(200):$.get(this.$element.attr("data-endpoint"),(function(t){e.ready=!0,e.$element.html(t),e.$element.fadeToggle(200)}),"html")}},{key:"close",value:function(){this.$element&&this.$element.is(":visible")&&this.$element.fadeOut(200)}}])&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function _(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var S=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=$(".y8-navbar-right .newgames-menu")},(t=[{key:"init",value:function(){$(window).resize(this.close),$(document).on("topMenu.forceClose",this.close.bind(this))}},{key:"open",value:function(){this.$element.fadeToggle(200)}},{key:"close",value:function(){this.$element&&this.$element.is(":visible")&&this.$element.fadeOut(200)}}])&&P(e.prototype,t),n&&P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),T=n(4463);function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function E(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var L=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentlyOpen=null,this.$background=$(".header-menu-modal"),this.$topMenu=$(".js-top-menu")},(t=[{key:"init",value:function(){this.initMenus(),this.$topMenu.on("click",this.onClick.bind(this))}},{key:"initMenus",value:function(){this.account=new k,this.account.init(),this.browse=new j,this.browse.init(),this.newgames=new S,this.newgames.init(),this.locale=T.A,this.locale.init()}},{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget).data("menu");$(".sub-menu:visible").length&&(this.currentlyOpen=t),this[t]?this.currentlyOpen!=t?this.open(t):this.close():console.warn("Don't know how to handle such menu",t)}},{key:"open",value:function(e){var t=this;this.close(!0),this.$background.fadeIn(200),this[e].open(),this.currentlyOpen=e,$(document).trigger("checkOverlayMenus"),$(".sub-menu").bind("click.subMenu",(function(e){e.stopPropagation()})),$(document).bind("click.outsideTopMenu",(function(e){e.preventDefault(),e.stopPropagation(),t.close()}))}},{key:"close",value:function(e){$(document).trigger("topMenu.forceClose"),$(".sub-menu").unbind("click.subMenu"),$(document).unbind("click.outsideTopMenu"),this.currentlyOpen=null,1!=e&&this.$background.fadeOut(200),$(document).trigger("checkOverlayMenus")}}])&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),H=n(8782),D=n(4092);(new H.A).add(D.A,["itemsListUpdated","girlsGamesFilterUpdated"]).enable(),document.addEventListener("DOMContentLoaded",(function(){(new UserInfo).init(),(new l).init(),(new d).init(),(new b.A).loadCounters(),(new m).process(),(new L).init(),y.init()}))},8691:function(){},1669:function(e){"use strict";e.exports=jQuery}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[3321,1840,3957,7335,316,9877],(function(){return t(299),t(8691)}));e.O()}]);