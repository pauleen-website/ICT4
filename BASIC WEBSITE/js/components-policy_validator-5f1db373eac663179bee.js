"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5159],{7598:function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i(a.key),a)}}function i(e){var i=function(e,i){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,i||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"==typeof i?i:i+""}var t=function(){return i=function e(){var i=this;!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.$informationBar=document.querySelector(".policy-validation"),this.$button=document.querySelector(".policy-validation .validate-policy"),this.serviceControl=null,window.addEventListener("privacy_policy_validated",(function(e){i.setControlValueFromService(e.detail.privacy_policy_validated),i.process()}))},(t=[{key:"process",value:function(){"true"!=this.getCookie("privacy_policy_validated")?this.serviceControl?this.validateWithCookie():this.isEU()||(this.showInformationBar(),null!=this.$button&&this.$button.addEventListener("click",(function(e){e.preventDefault(),window.policyValidator.validate()}))):!this.serviceControl&&this.getCookie("user_id")&&this.validateWithApi()}},{key:"validate",value:function(){this.getCookie("user_id")?this.validateWithApi():this.validateWithCookie()}},{key:"validateWithCookie",value:function(){document.cookie="privacy_policy_validated=true; max-age=".concat(3456e4,";"),this.hideInformationBar()}},{key:"isEU",value:function(){return["Europe/Vienna","Europe/Brussels","Europe/Sofia","Europe/Zagreb","Asia/Famagusta","Asia/Nicosia","Europe/Prague","Europe/Copenhagen","Europe/Tallinn","Europe/Helsinki","Europe/Paris","Europe/Berlin","Europe/Busingen","Europe/Athens","Europe/Budapest","Europe/Dublin","Europe/Rome","Europe/Riga","Europe/Vilnius","Europe/Luxembourg","Europe/Malta","Europe/Amsterdam","Europe/Warsaw","Atlantic/Azores","Atlantic/Madeira","Europe/Lisbon","Europe/Bucharest","Europe/Bratislava","Europe/Ljubljana","Africa/Ceuta","Atlantic/Canary","Europe/Madrid","Europe/Stockholm"].includes(Intl.DateTimeFormat().resolvedOptions().timeZone)}},{key:"validateWithApi",value:function(){var e=new XMLHttpRequest;e.onload=function(){e.status>=200&&e.status<300?window.policyValidator.validateWithCookie():console.log("Error on validate privacy policy : ".concat(e.statusText))},e.open("PUT","/profile/validate_privacy_policy"),e.send()}},{key:"showInformationBar",value:function(){null!=this.$informationBar&&(this.$informationBar.style.display="flex")}},{key:"hideInformationBar",value:function(){null!=this.$informationBar&&(this.$informationBar.style.display="none")}},{key:"setControlValueFromService",value:function(e){this.serviceControl=e}},{key:"getCookie",value:function(e){var i;return null===(i=document.cookie.split("; ").find((function(i){return i.startsWith("".concat(e,"="))})))||void 0===i?void 0:i.split("=")[1]}}])&&e(i.prototype,t),o&&e(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,t,o}();window.policyValidator=new t,window.policyValidator.process()}},function(e){var i;i=7598,e(e.s=i)}]);